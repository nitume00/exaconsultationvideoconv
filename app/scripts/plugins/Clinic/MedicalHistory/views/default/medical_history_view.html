<section class="clearfix pad-63 appmt-table">
    <div class="container">
        <div class="page-head clearfix">
            <h1 class="pull-left">{{'Medical History Details'| translate}}</h1>
            <a href="appointments/approved" class="btn btn-red pull-right">{{'Back'| translate}}</a>
        </div>
        <div growl></div>
        <div class="table-block">
            <div class="table-responsive">
                <table class="table table-hover">
                    <thead>
                        <tr>
                            <th>{{'S.No'| translate}}</th>
                            <th>{{'Created'| translate}}</th>
                            <th>{{'Specialty'| translate}}</th>
                            <th>{{'Year'| translate}}</th>
                            <th>{{'Description'| translate}}</th>
                            <th>{{'Attachments'| translate}}</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="history in histories" >
                            <td>{{$index + 1}}</td>
                            <td>{{history.created_at}}</td>
                            <td>{{history.specialty.name}}</td>
                            <td>{{history.years}}</td>
                            <td>{{history.description}}</td>     
                            <td>
                               <ul ng-repeat="medicalReport in history.attachment">
                                    <li class="">
                                        <file-download attachment="{{medicalReport}}" downloadlable="<i class='fa fa-download fa-2x'> </i>"></file-download>
                                    </li>
                               </ul>
                                <span ng-if="history.attachment.length == 0" class="hor-space alert alert-danger text-center">{{'No medical report added'| translate}}</span>
                            </td>
                        </tr>
                        <tr ng-if="histories.length == 0">
                            <td colspan="6">
                                <p class="hor-space alert alert-danger text-center">{{'No Medical history added'| translate}}</p>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="paging clearfix text-center">
                <uib-pagination total-items="_metadata.total" num-pages="_metadata.total_pages" ng-model="currentPage" max-size="maxSize" boundary-links="true" boundary-link-numbers="true" rotate="false" items-per-page="_metadata.per_page" previous-text="&#xf104;" next-text="&#xf105;" ng-change="paginate()"></uib-pagination>
            </div>
        </div>
    </div>
</section>